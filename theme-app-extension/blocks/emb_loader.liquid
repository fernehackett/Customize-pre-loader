{{ block.settings.template }}
{%- render block.settings.template -%}
<script>
    document.getElementById('eop-loader-container').setAttribute('style', 'top: 0;width: 100%; height: 100%; background-color: {{ block.settings.color }}; position: fixed; z-index: 9999999999');;
    window.addEventListener('load', () => {
        console.log(document.getElementById('eop-loader-container'));
    });
    function fadeOutEffect() {
        let fadeTarget = document.getElementById("eop-loader");
        let fadeEffect = setInterval(function () {
            if (!fadeTarget.style.opacity) {
                fadeTarget.style.opacity = 1;
            }
            if (fadeTarget.style.opacity > 0) {
                fadeTarget.style.opacity -= 0.1;
                // fadeTarget.remove();
            } else {
                clearInterval(fadeEffect);
            }
        }, 100);
    }
</script>
{% schema %}
{
"name": "Preloadify",
"target": "body",
"settings": [
{
"type": "select",
"id": "template",
"label": "Preloader",
"default": "blurred_gear_loader",
"options": [
{
"value": "blurred_gear_loader",
"label": "Blurred Gear"
},
{
"value": "rainbow",
"label": "Rainbow"
},
{
"value": "simple_loading",
"label": "Simple Loading"
},
{
"value": "stairs",
"label": "Stairs"
},
{
"value": "tree",
"label": "Tree"
}
]
},
{
"type": "color",
"id": "color",
"label": "Background",
"default": "#eee"
},
{
"type": "number",
"id": "loader_time",
"label": "Time Out",
"default": 2000
}
]
}
{% endschema %}
